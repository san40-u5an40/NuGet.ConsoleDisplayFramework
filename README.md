# san40_u5an40.ConsoleDisplayFramework
## Назначение:
Данный фреймворк предназначен для быстрого создания адаптивных консольных дисплеев с поддержкой асинхронного ввода и вывода. Дисплей обновляется как при изменении размеров консольного окна, так и при изменении значения контроллера (если явно не указано обратное).

## Примеры использования:
```C#
// Main:
UpperDisplay upperDisplay = new UpperDisplay()
    .AppendEmpty('-')
    .Append('-', "Aaahha")
    .AppendEmpty('-');

Dictionary<int, string> menu = new()
{
    { 1, "Кинуть автору донат" },
    { 2, "Спасибо, добрый человек!" },
    { 3, "Проигнорить..." }
};

//                Начальное значение меню ↓
ControllerMenu controllerMenu = new(menu, 1);

Printer<int> printer = new(upperDisplay, controllerMenu);
int result = await printer.ShowAsync();
Console.WriteLine("Ваш выбор: " + result);

// Вывод:
// /*--------------------------*/
// /*----------Aaahha----------*/
// /*--------------------------*/
// 
// 1) Кинуть автору донат ←
// 2) Спасибо, добрый человек!
// 3) Проигнорить...
```

После вывода объектом `Printer` верхнего дисплея и контроллера, значения контроллера можно изменять с помощью стрелок ↑ и ↓. Для выхода из меню необходимо нажать [enter].

## Принцип работы:
Ключевым типом для работы с адаптивными дисплеями является объект Printer, конструктор которого принимает объект верхнего дисплея `UpperDisplay` и контроллер, в данном случае `ControllerMenu`.

Для запуска отображения созданного объекта `Printer` используется метод `ShowAsync`, который возвращает в конце своей работы введённое пользователем значение.

## Виды контроллеров:
 - ControllerMenu - Принцип работы был показан в примере.
 - ControllerPressEnter - Выводит переданное в конструкторе строковое значение пока пользователь не нажмёт [enter] для продолжения работы программы.
 - ControllerReadLine - Используется для текстового ввода. Необходимо указать подпись, например "Введите пароль: ", а также логическое значение, указывающее необходимо ли отображать значение, которое вводит пользователь.
 - ControllerYNChoice - Вводит бинарное значение, указанное пользователем с помощью клавиш [Y] и [N]. В качестве подписи рекомендуется использовать "Подтвердите выбор: ([Y]/[N])".

## Компоновщик дисплея:
Представлен классом `Printer`, которые при создании требует указание верхнего дисплея и контроллера. Для создания данного объекта также необходимо указать Generic-параметр, отражающий тип возвращаемого значения контроллером.

Ниже приведена таблица для работы с классическими контроллерами:

|Контроллер|Значение T-параметра у Printer|
|:-:|:-:|
|ControllerMenu|int - Указанный пункт меню|
|ControllerReadLine|string - Введённая пользователем строка|
|ControllerYNChoice|bool - Выбор пользователем [Y]/[N]-значения|
|ControllerPressEnter|bool - Всегда возвращает true|

## Верхний дисплей:
Представлен классом `UpperDisplay` и спроектирован на основе Builder-паттерна. Дисплей составляется построчно с помощью метода `AppendEmpty`, добавляющего строку без надписей, но с указанным дисплейным символом (рекомендуется использовать '-'), и метода `Append`, который также требует указание дисплейного символа и строки, которая будет отображаться внутри. По умолчанию используется выравнивание строки по центру, но можно явно задать выравнивание третьим параметром с помощью перечисления `ConsoleDisplayAlignment`.